package ventanas;

import java.awt.Image;
import java.math.BigDecimal;
import java.math.RoundingMode;
import java.text.NumberFormat;
import javax.swing.Icon;
import javax.swing.ImageIcon;
import javax.swing.JLabel;
import javax.swing.JOptionPane;
import java.awt.Desktop;
import java.io.File;
import java.io.IOException;

public class Principal extends javax.swing.JFrame {

    public Principal() {
        initComponents();

        setSize(647, 711);
        setResizable(false);
        setTitle("Ventana Principal");
        setLocationRelativeTo(null);

        SetImageLabel(jLabel_WallPaper, "src/images/graficasFondo.jpg");

    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jLabel1 = new javax.swing.JLabel();
        txt_amount = new javax.swing.JTextField();
        cmb_a = new javax.swing.JComboBox<>();
        cmb_desde = new javax.swing.JComboBox<>();
        button_convertir = new javax.swing.JButton();
        button_pdf = new javax.swing.JButton();
        jLabel2 = new javax.swing.JLabel();
        jLabel3 = new javax.swing.JLabel();
        button_grafico = new javax.swing.JButton();
        txt_conversion = new javax.swing.JLabel();
        jLabel_Footer = new javax.swing.JLabel();
        jLabel_WallPaper = new javax.swing.JLabel();

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
        getContentPane().setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        jLabel1.setFont(new java.awt.Font("Tahoma", 1, 24)); // NOI18N
        jLabel1.setText("Ingresa el Monto:");
        getContentPane().add(jLabel1, new org.netbeans.lib.awtextra.AbsoluteConstraints(30, 120, -1, -1));

        txt_amount.setFont(new java.awt.Font("Century Schoolbook", 1, 18)); // NOI18N
        getContentPane().add(txt_amount, new org.netbeans.lib.awtextra.AbsoluteConstraints(260, 110, 230, 40));

        cmb_a.setFont(new java.awt.Font("Tahoma", 1, 13)); // NOI18N
        cmb_a.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "USD", "COP", "EUR" }));
        cmb_a.setBorder(new javax.swing.border.SoftBevelBorder(javax.swing.border.BevelBorder.RAISED));
        cmb_a.setCursor(new java.awt.Cursor(java.awt.Cursor.DEFAULT_CURSOR));
        getContentPane().add(cmb_a, new org.netbeans.lib.awtextra.AbsoluteConstraints(260, 300, 230, 40));

        cmb_desde.setFont(new java.awt.Font("Tahoma", 1, 13)); // NOI18N
        cmb_desde.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "USD", "COP", "EUR" }));
        cmb_desde.setBorder(new javax.swing.border.SoftBevelBorder(javax.swing.border.BevelBorder.RAISED));
        cmb_desde.setCursor(new java.awt.Cursor(java.awt.Cursor.DEFAULT_CURSOR));
        getContentPane().add(cmb_desde, new org.netbeans.lib.awtextra.AbsoluteConstraints(260, 210, 230, 40));

        button_convertir.setText("Convertir");
        button_convertir.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                button_convertirActionPerformed(evt);
            }
        });
        getContentPane().add(button_convertir, new org.netbeans.lib.awtextra.AbsoluteConstraints(440, 540, 100, 40));

        button_pdf.setText("PDF");
        button_pdf.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                button_pdfActionPerformed(evt);
            }
        });
        getContentPane().add(button_pdf, new org.netbeans.lib.awtextra.AbsoluteConstraints(70, 540, 100, 40));

        jLabel2.setFont(new java.awt.Font("Tahoma", 1, 24)); // NOI18N
        jLabel2.setText("A:");
        getContentPane().add(jLabel2, new org.netbeans.lib.awtextra.AbsoluteConstraints(90, 320, -1, -1));

        jLabel3.setFont(new java.awt.Font("Tahoma", 1, 24)); // NOI18N
        jLabel3.setText("Desde:");
        getContentPane().add(jLabel3, new org.netbeans.lib.awtextra.AbsoluteConstraints(70, 220, -1, -1));

        button_grafico.setText("Ver Grafico");
        button_grafico.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                button_graficoActionPerformed(evt);
            }
        });
        getContentPane().add(button_grafico, new org.netbeans.lib.awtextra.AbsoluteConstraints(280, 540, 100, 40));

        txt_conversion.setFont(new java.awt.Font("Javanese Text", 1, 24)); // NOI18N
        txt_conversion.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        getContentPane().add(txt_conversion, new org.netbeans.lib.awtextra.AbsoluteConstraints(50, 390, 550, 60));

        jLabel_Footer.setText("Creado por Daniel Chía, Copyright ©℗®™ - 2023  ");
        getContentPane().add(jLabel_Footer, new org.netbeans.lib.awtextra.AbsoluteConstraints(170, 650, -1, -1));
        getContentPane().add(jLabel_WallPaper, new org.netbeans.lib.awtextra.AbsoluteConstraints(0, 0, 650, 690));

        pack();
        setLocationRelativeTo(null);
    }// </editor-fold>//GEN-END:initComponents

    private void button_convertirActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_button_convertirActionPerformed
        // TODO add your handling code here:

        Double numero;

        Double amount = Double.parseDouble(txt_amount.getText().trim());

        if (cmb_desde.getSelectedItem().toString() == "USD" && cmb_a.getSelectedItem().toString() == "COP") {
            numero = amount * 3977.76;
            BigDecimal numeroRedondeado = BigDecimal.valueOf(numero).setScale(2, RoundingMode.HALF_EVEN);
            NumberFormat formatoMoneda = NumberFormat.getCurrencyInstance();
            String numeroFormateado = formatoMoneda.format(numeroRedondeado);
            txt_conversion.setText(amount + " USD = " + numeroFormateado.toString() + " COP.");
        } else if (cmb_desde.getSelectedItem().toString() == "USD" && cmb_a.getSelectedItem().toString() == "EUR") {
            numero = amount * 0.89;
            BigDecimal numeroRedondeado = BigDecimal.valueOf(numero).setScale(2, RoundingMode.HALF_EVEN);
            NumberFormat formatoMoneda = NumberFormat.getCurrencyInstance();
            String numeroFormateado = formatoMoneda.format(numeroRedondeado);
            txt_conversion.setText(amount + " USD = " + numeroFormateado.toString() + " EUR.");
        } else if (cmb_desde.getSelectedItem().toString() == "COP" && cmb_a.getSelectedItem().toString() == "USD") {
            numero = amount * 0.00025;
            BigDecimal numeroRedondeado = BigDecimal.valueOf(numero).setScale(2, RoundingMode.HALF_EVEN);
            NumberFormat formatoMoneda = NumberFormat.getCurrencyInstance();
            String numeroFormateado = formatoMoneda.format(numeroRedondeado);
            txt_conversion.setText(amount + " COP = " + numeroFormateado.toString() + " USD.");
        } else if (cmb_desde.getSelectedItem().toString() == "COP" && cmb_a.getSelectedItem().toString() == "EUR") {
            numero = amount * 0.00022;
            BigDecimal numeroRedondeado = BigDecimal.valueOf(numero).setScale(2, RoundingMode.HALF_EVEN);
            NumberFormat formatoMoneda = NumberFormat.getCurrencyInstance();
            String numeroFormateado = formatoMoneda.format(numeroRedondeado);
            txt_conversion.setText(amount + " COP = " + numeroFormateado.toString() + " EUR.");
        } else if (cmb_desde.getSelectedItem().toString() == "EUR" && cmb_a.getSelectedItem().toString() == "USD") {
            numero = amount * 1.12;
            BigDecimal numeroRedondeado = BigDecimal.valueOf(numero).setScale(2, RoundingMode.HALF_EVEN);
            NumberFormat formatoMoneda = NumberFormat.getCurrencyInstance();
            String numeroFormateado = formatoMoneda.format(numeroRedondeado);
            txt_conversion.setText(amount + " EUR = " + numeroFormateado.toString() + " USD.");
        } else if (cmb_desde.getSelectedItem().toString() == "EUR" && cmb_a.getSelectedItem().toString() == "COP") {
            numero = amount * 4459.20;
            BigDecimal numeroRedondeado = BigDecimal.valueOf(numero).setScale(2, RoundingMode.HALF_EVEN);
            NumberFormat formatoMoneda = NumberFormat.getCurrencyInstance();
            String numeroFormateado = formatoMoneda.format(numeroRedondeado);
            txt_conversion.setText(amount + " EUR = " + numeroFormateado.toString() + " COP.");
        } else {
            JOptionPane.showMessageDialog(this, "monto no valido");
        }


    }//GEN-LAST:event_button_convertirActionPerformed

    private void button_graficoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_button_graficoActionPerformed
        // TODO add your handling code here:
        if (cmb_desde.getSelectedItem().toString() == "USD" && cmb_a.getSelectedItem().toString() == "COP") {
            grafica_dolar_vs_pesoColombiano grafica = new grafica_dolar_vs_pesoColombiano();
            grafica.setVisible(true);
        } else if (cmb_desde.getSelectedItem().toString() == "USD" && cmb_a.getSelectedItem().toString() == "EUR") {
            grafica_dolar_vs_euro grafica2 = new grafica_dolar_vs_euro();
            grafica2.setVisible(true);
        } else if (cmb_desde.getSelectedItem().toString() == "COP" && cmb_a.getSelectedItem().toString() == "USD") {
            grafica_pesoColombiano_vs_dolar grafica3 = new grafica_pesoColombiano_vs_dolar();
            grafica3.setVisible(true);
        } else if (cmb_desde.getSelectedItem().toString() == "COP" && cmb_a.getSelectedItem().toString() == "EUR") {
            grafica_pesoColombiano_vs_euro grafica4 = new grafica_pesoColombiano_vs_euro();
            grafica4.setVisible(true);
        } else if (cmb_desde.getSelectedItem().toString() == "EUR" && cmb_a.getSelectedItem().toString() == "USD") {
            grafica_euro_vs_dolar grafica5 = new grafica_euro_vs_dolar();
            grafica5.setVisible(true);
        } else if (cmb_desde.getSelectedItem().toString() == "EUR" && cmb_a.getSelectedItem().toString() == "COP") {
            grafica_euro_vs_pesoColombiano grafica6 = new grafica_euro_vs_pesoColombiano();
            grafica6.setVisible(true);
        } else {
            JOptionPane.showMessageDialog(this, "error");
        }


    }//GEN-LAST:event_button_graficoActionPerformed

    private void button_pdfActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_button_pdfActionPerformed

        String rutaPdfColombia = "src/archivos/colombia.pdf";
        String rutaPdfUsa = "src/archivos/usa.pdf";
        String rutaPdfEuropa = "src/archivos/europa.pdf";

        if (Desktop.isDesktopSupported()) {
            try {
                Desktop desktop = Desktop.getDesktop();
                File file = new File(rutaPdfColombia);
                File file2 = new File(rutaPdfUsa);
                File file3 = new File(rutaPdfEuropa);
                if (file.exists() && cmb_a.getSelectedItem().toString() == "COP") {
                    desktop.open(file);
                } else if (file.exists() && cmb_a.getSelectedItem().toString() == "USD") {
                    desktop.open(file2);
                } else if (file.exists() && cmb_a.getSelectedItem().toString() == "EUR") {
                    desktop.open(file3);
                } else {
                    JOptionPane.showMessageDialog(this, "El archivo no existe");
                }
            } catch (IOException e) {
                e.printStackTrace();
            }
        } else {
            JOptionPane.showMessageDialog(this, "No es compatible!");
        }


    }//GEN-LAST:event_button_pdfActionPerformed

    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(Principal.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(Principal.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(Principal.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(Principal.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>

        /* Create and display the form */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                new Principal().setVisible(true);
            }
        });
    }

    private void SetImageLabel(JLabel labelName, String root) {
        ImageIcon image = new ImageIcon(root);
        Icon icon = new ImageIcon(image.getImage().getScaledInstance(labelName.getWidth(), labelName.getHeight(), Image.SCALE_DEFAULT));
        labelName.setIcon(icon);
        this.repaint();
    }

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton button_convertir;
    private javax.swing.JButton button_grafico;
    private javax.swing.JButton button_pdf;
    private javax.swing.JComboBox<String> cmb_a;
    private javax.swing.JComboBox<String> cmb_desde;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel_Footer;
    private javax.swing.JLabel jLabel_WallPaper;
    private javax.swing.JTextField txt_amount;
    private javax.swing.JLabel txt_conversion;
    // End of variables declaration//GEN-END:variables
}
